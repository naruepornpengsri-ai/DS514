# Heart Failure Prediction
โครงการวิเคราะห์ข้อมูลและการสร้างโมเดล Machine Learning

---

## 1. บทนำ (Introduction)

โรคหัวใจเป็นสาเหตุการเสียชีวิตอันดับต้นๆ การวินิจฉัยต้องอาศัยแพทย์ผู้เชี่ยวชาญและเครื่องมือเฉพาะทาง 
ปัญหา คือ เราจะสามารถใช้ข้อมูลจากการตรวจสุขภาพพื้นฐานและอาการทางคลินิก (เช่น อายุ, ระดับคอเลสเตอรอล, ผลคลื่นไฟฟ้าหัวใจ, อาการเจ็บหน้าอก) มาวิเคราะห์เพื่อระบุปัจจัยเสี่ยงที่สำคัญ 
และสร้างแบบจำลองเพื่อทำนายความน่าจะเป็นของการเกิดโรคหัวใจได้อย่างไร เพื่อช่วยในการคัดกรองผู้ป่วยเบื้องต้นอย่างมีประสิทธิภาพ

---

## 2. วัตถุประสงค์ของโครงการ (Objectives)

เครื่องมือประเมินความเสี่ยงด้วยตนเอง ช่วยให้ผู้ใช้งานรู้สถานะสุขภาพก่อนเกิดอาการรุนแรง ค้นหาผู้ป่วยระยะเริ่มต้นเพื่อลดอัตราการเสียชีวิตเฉียบพลัน 
มุ่งเน้นการเปลี่ยนข้อมูลสุขภาพให้เป็นสัญญาณเตือนภัยล่วงหน้า เพื่อการรักษาที่รวดเร็วและแม่นยำยิ่งขึ้น

---

## 3. คำถามการวิจัยและสมมติฐาน  


### คำถามการวิจัย
- เพศใดมีแนวโน้มเป็นโรคหัวใจมากกว่า
-  อายุที่มากขึ้นมีผลต่อการเป็นโรคหัวใจหรือไม่
- ชนิดของอาการเจ็บหน้าอก (ChestPainType) แบบไหนที่สัมพันธ์กับการเป็นโรคหัวใจมากที่สุด
- ST Slope มีความสัมพันธ์กับโรคหัวใจอย่างไร
- คนที่เป็นโรคหัวใจ มีค่า Oldpeak เฉลี่ยสูงกว่าคนปกติหรือไม่

### สมมติฐาน
อายุ, เพศ, ประเภทการเจ็บหน้าอก , ความดันโลหิต, คอเลสเตอรอล, อาการเจ็บหน้าอกขณะออกกำลังกาย , ค่า Oldpeak ที่เป็นระดับ ST depression ที่เกิดขึ้นจากการออกกำลังกาย, ST Slope และอัตราการเต้นของหัวใจ
เป็นปัจจัยที่ส่งผลต่อการเกิดโรคหัวใจ


---

## 4. แหล่งที่มาของข้อมูล (Data Source)

- **Dataset:** Heart Failure Prediction Dataset  
- **Source:** Kaggle  
- ข้อมูลถูกจัดเตรียมสำหรับงาน Classification  

---

## 5. รายละเอียดข้อมูล (Dataset Description)

### ตัวแปรเป้าหมาย (Target Variable)
- `HeartDisease`
  - `0` = ไม่เป็นโรคหัวใจ  
  - `1` = เป็นโรคหัวใจ  

### ตัวแปรอิสระ (Features)

**Numerical Variables**
- Age  
- RestingBP  
- Cholesterol  
- MaxHR  
- Oldpeak  

**Categorical Variables**
- Sex  
- ChestPainType  
- RestingECG  
- ExerciseAngina  
- ST_Slope  
- FastingBS  

---

## 6. การวิเคราะห์ข้อมูลเชิงสำรวจ  
(Exploratory Data Analysis: EDA)

- ตรวจสอบการกระจายของข้อมูลแต่ละตัวแปร  
- วิเคราะห์ความสัมพันธ์ระหว่างตัวแปรด้วย Correlation Heatmap  
- เปรียบเทียบลักษณะข้อมูลระหว่างกลุ่มปกติและกลุ่มผู้ป่วย  
- ใช้กราฟ Bar Chart และ  Pie Chart เพื่อแสดงความแตกต่างของข้อมูล  

---

## 7. การพัฒนาโมเดล (Model Development)

### 7.1 การเตรียมข้อมูล (Data Preparation)
- แยกข้อมูลเป็น Features และ Target  
- แปลงข้อมูลเชิงกลุ่มให้อยู่ในรูปแบบเชิงตัวเลข  
- แบ่งข้อมูลเป็น Training Set และ Test Set  

### 7.2 โมเดลที่ใช้ในการศึกษา

**Logistic Regression**
- เป็นโมเดลพื้นฐานสำหรับงาน Classification  
- สามารถอธิบายผลลัพธ์และความสำคัญของตัวแปรได้ง่าย  

**K-Nearest Neighbors (KNN)**
- ใช้หลักการวัดความใกล้เคียงของข้อมูล  
- เหมาะสำหรับการเปรียบเทียบรูปแบบของผู้ป่วยที่มีลักษณะคล้ายกัน  

### 7.3 การประเมินประสิทธิภาพของโมเดล

ตัวชี้วัดที่ใช้:
- Accuracy  
- Precision  
- Recall  
- F1-Score  
- Confusion Matrix  

---

## 8. ผลการทดลอง (Results)

| Model | Accuracy | Precision | Recall |
|------|----------|-----------|--------|
| Logistic Regression | 85.33% | 82.89% | 87.50% |
| K-Nearest Neighbors | 87.33% | 86.30% | 87.50% |

**สรุปผล:**  
โมเดล KNN ให้ความแม่นยำสูงกว่าเล็กน้อย  
ในขณะที่ Logistic Regression มีความเหมาะสมในการอธิบายผลเชิงวิชาการและเชิงการแพทย์  

---

## 9. สรุปผลการวิเคราะห์ (Findings)

- เพศชายและช่วงอายุ 55–75 ปี เป็นกลุ่มที่มีความเสี่ยงสูง  
- ค่า Oldpeak และ ST Slope เป็นปัจจัยสำคัญในการทำนายโรคหัวใจ  
- อาการ Exercise Angina มีความสัมพันธ์กับการเกิดโรคหัวใจอย่างชัดเจน  

---

## 10. ข้อเสนอแนะ (Recommendations)

- ควรมีการตรวจคัดกรองสุขภาพให้กับประชาชนช่วงอายุ 55-75 ปี เนื่องจากเป็นกลุ่มเสี่ยงสูงที่จะเป็นโรคหัวใจ โดยเฉพาะในกลุ่มเพศชาย
- สร้างความตระหนักถึงภัยเงียบของโรคหัวใจ แม้ว่าจะไม่มีอาการเจ็บหน้าอกเป็นสัญญาณ เนื่องจากยังคงเป็นตัวแปรสำคัญอย่างหนึ่งในการเกิดโรคหัวใจ
- สำหรับผู้ที่ไม่มีอาการเจ็บหน้าอก ควรได้รับการตรวจ ECG เพื่อดู ST Slope


---

## 11. เครื่องมือที่ใช้ (Tools & Libraries)

- Python  
- Pandas, NumPy  
- Matplotlib, Seaborn  
- OneHotEncoder
- StandardScaler
- train_test_split
- LogisticRegression
- KNeighborsClassifier
- accuracy_score 
- classification_report
- confusion_matrix
---


